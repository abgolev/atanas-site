<!DOCTYPE>
<!--
	Created by Atanas Golev.
-->

<HTML>
<TITLE>Disconnections</TITLE>
<HEAD>
<STYLE>

table#Words {
	width: 100%;
	cursor: default;
	table-layout: fixed;
}

table#Words th, td {
	border: 0.5px solid black;
	border-radius: 20px;
}

table#Words td {
	position: relative;
	text-align: center;
	vertical-align: middle;
	font-size: 36px;
	font-weight: 1000;
	width: 24.5%;
	display: inline-block;
	background-color: #E7E8DA;
}

table#Words .content {
	aspect-ratio: 1/1;
}

table#Words center {
	margin-left: auto;
	margin-right: auto;
}

table#Mistakes{
	width: 70%;
	cursor: default;
	font-size: 32px;
	text-align: center;
}

table#Mistakes center {
	margin-left: auto;
	margin-right: auto;
}

table#Mistakes td{
	border: none;
}

h1 {
	font-size: 72px;
	width: 100%;
	text-align: center;
	font-weight: bold;
}

#wrapper {
	width:100%;
	text-align: center;
}
	
.button {
	border-radius: 50px;
	padding: 16px 16px;
	text-align: center;
	text-decoration: none;
	font-size: 48px;
	margin-left: auto;
	margin-right: auto;
	cursor: pointer;
	display: inline-block;
	background-color: #FFFFFF;
}
.button:disabled {
	opacity: 0.5;
	pointer-events: none;
	cursor: default;
}

</STYLE>

<SCRIPT>
var day = 0;
var guessesLeft = 4;
var wordsSelected = 0;
var isSelected = false;
var defaultImagePath = "images/";
var totalGames = 0; 
var canSubmit = false;
var rowsCleared = 0;

var wordMatrix = [
	["ONE", "TWO", "THREE", "FOUR"],
	["FIVE", "SIX", "SEVEN", "EIGHT"],
	["NINE", "TEN", "ELEVEN", "TWELVE"],
	["THIRTEEN", "FOURTEEN", "FIFTEEN", "SIXTEEN"]
]
	
var selectionMatrix = [
	[false, false, false, false],
	[false, false, false, false],
	[false, false, false, false],
	[false, false, false, false]
]
	
var associations = [
	"Drugs",
	"Palindromes",
	"Mother",
	"Cheetah"
]
	
function load() {
	alert("Welcome to Disconnections");
	//enables clicks and sets words
	for(i = 0 ; i < 4; i++){	
		for(j = 0; j < 4; j++){
			whichWord = document.getElementById("word"+i+j);
			whichWord.innerHTML = wordMatrix[i][j];
			whichWord.addEventListener("click", wordClick);
		}
	}
	document.getElementById("Submit").disabled = true;
	document.getElementById("ClearAll").disabled = true;
	document.getElementById("Shuffle").addEventListener("click", clickShuffle);
	
}

function wordClick(){
	var cellRow = this.id.substring(4,5);
	var cellCol = this.id.substring(5,6);
	var cellId = "word" + cellRow + cellCol;
	if(selectionMatrix[cellRow][cellCol]==false){
		if(wordsSelected == 4)
			return;
		document.getElementById(cellId).style.backgroundColor = "#606060";
		document.getElementById(cellId).style.color = "#FFFFFF";
		selectionMatrix[cellRow][cellCol] = true;
		wordsSelected++;
		console.log("Words selected: " + wordsSelected);
		if(wordsSelected == 4)
			canSubmit = true;
		canSubmit = false;
	}
	else{
		document.getElementById(cellId).style.backgroundColor = "#E7E8DA";
		document.getElementById(cellId).style.color = "#000000";
		selectionMatrix[cellRow][cellCol] = false;
		wordsSelected--;
		console.log("Words selected: " + wordsSelected);
		canSubmit = false;
	}

	//set buttons to enabled/disabled
	if(wordsSelected > 0){
		document.getElementById("ClearAll").disabled = false;
		document.getElementById("ClearAll").addEventListener("click", clearAll);
	}
	else{
		document.getElementById("ClearAll").disabled = true;
		document.getElementById("ClearAll").removeEventListener("click", clearAll);
	}
	
	if(wordsSelected == 4){
		document.getElementById("Submit").disabled = false;
		document.getElementById("Submit").addEventListener("click", submitWords);
	}
	else{
		document.getElementById("Submit").disabled = true;
		document.getElementById("Submit").removeEventListener("click", submitWords);
	}
		
}

function rowCleared(){
	console.log("row cleared woots");
}

function submitWords(){
	console.log("we submitted woots");
	//we can now go through the boolean matrix looking for num true / false
}

function clickShuffle(){
	console.log("we shuffled woots");
}

function clearAll(){
	console.log("we clear now");
	wordsSelected=0;
	for(i = 0 ; i < 4; i++){	
		for(j = 0; j < 4; j++){
			whichWord = document.getElementById("word"+i+j);
			whichWord.style.backgroundColor = "#E7E8DA";
			whichWord.style.color = "#000000";
		}
	}
	setClearAllEnabled($false);
	
	document.getElementById("ClearAll").disabled = true;
	document.getElementById("Submit").disabled = true;
	document.getElementById("ClearAll").removeEventListener("click", clearAll);
	document.getElementById("Submit").removeEventListener("click", submitWords);
}

function getRandomInt(min, max) {
	var randNum = 0;
	min = Math.ceil(min);
	max = Math.floor(max);
	randNum = Math.floor(Math.random()*(max-min+1))+min;
	return randNum;
}

</SCRIPT>
	
</HEAD>
<h1>DISCONNECTIONS</h1>
<BODY ONLOAD="load()">

<TABLE ID="Words">
<TR>
	<TD ID="word00" div class="content"> </div></TD>
	<TD ID="word01" div class="content"> </div></TD>
	<TD ID="word02" div class="content"> </div></TD>
	<TD ID="word03" div class="content"> </div></TD>
</TR>
<TR>
	<TD ID="word10" div class="content"> </div></TD>
	<TD ID="word11" div class="content"> </div></TD>
	<TD ID="word12" div class="content"> </div></TD>
	<TD ID="word13" div class="content"> </div></TD>
</TR>
<TR>
	<TD ID="word20" div class="content"> </div></TD>
	<TD ID="word21" div class="content"> </div></TD>
	<TD ID="word22" div class="content"> </div></TD>
	<TD ID="word23" div class="content"> </div></TD>
</TR>
<TR>
	<TD ID="word30" div class="content"> </div></TD>
	<TD ID="word31" div class="content"> </div></TD>
	<TD ID="word32" div class="content"> </div></TD>
	<TD ID="word33" div class="content"> </div></TD>
</TR>
</TABLE>

<br>
<br>

<div>
<TABLE ID="Mistakes">
<TR>
	<TH>Guesses left: </TH>
	<TD align="center"><img id="mistake0" SRC="images/jp2.jpg"></TD>
	<TD align="center"><img id="mistake1" SRC="images/jp2.jpg"></TD>
	<TD align="center"><img id="mistake2" SRC="images/jp2.jpg"></TD>
	<TD align="center"><img id="mistake3" SRC="images/jp2.jpg"></TD>
</TR>
</TABLE>
</div>

<br>
<br>
	
<div id="wrapper">
	<div class="button"><button class="button button" id="Submit">Submit</button></div>
	<div class="button"><button class="button button" id="ClearAll">Clear all</button></div>
	<div class="button"><button class="button button" id="Shuffle">Shuffle</button></div>
</div>
	
</BODY>
</HTML>
